<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.base.mapper.BaseCommonMapper">

    <!-- 保存日志11 -->
    <insert id="saveLog" parameterType="Object">
        insert into sys_log (id, log_type, log_content, method, operate_type, request_url, request_type, request_param, ip, userid, username, cost_time, create_time,create_by)
        values(
            #{dto.id,jdbcType=VARCHAR},
            #{dto.logType,jdbcType=INTEGER},
            #{dto.logContent,jdbcType=VARCHAR},
            #{dto.method,jdbcType=VARCHAR},
            #{dto.operateType,jdbcType=INTEGER},
            #{dto.requestUrl,jdbcType=VARCHAR},
            #{dto.requestType,jdbcType=VARCHAR},
            #{dto.requestParam,jdbcType=VARCHAR},
            #{dto.ip,jdbcType=VARCHAR},
            #{dto.userid,jdbcType=VARCHAR},
            #{dto.username,jdbcType=VARCHAR},
            #{dto.costTime,jdbcType=BIGINT},
            #{dto.createTime,jdbcType=TIMESTAMP},
            #{dto.createBy,jdbcType=VARCHAR}
        )
    </insert>
    <select id="getUserInfoByUserId" parameterType="String" resultType="org.jeecg.modules.base.entity.ReviewUser">
        select * from review_user where user_id = #{userId}
    </select>

    <select id="getSysTenantInfo" parameterType="Long" resultType="org.jeecg.modules.base.entity.SysTenantVO">
        select
               *
        from sys_tenant where id = #{id}
    </select>

    <select id="getTenantIdByAppId" parameterType="String" resultType="org.jeecg.modules.base.entity.SysTenantVO">
        select * from sys_tenant where app_id = #{appId}
    </select>

    <select id="getProjectInfo" parameterType="Long" resultType="org.jeecg.modules.base.entity.ReviewProjectEntity">
        select * from review_project where id = #{projectId}
    </select>

    <select id="getTenantInfoByTenantId" parameterType="String" resultType="org.jeecg.modules.base.entity.SysTenantVO">
        select * from sys_tenant where id = #{tenantId}
    </select>
</mapper>